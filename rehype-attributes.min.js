!function(n){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).rehypeAttributes=n()}}((function(){function n(){return!0}var t=function t(e){if("string"==typeof e)return function(n){return function(t){return Boolean(t&&t.type===n)}}(e);if(null==e)return n;if("object"==typeof e)return("length"in e?function(n){var e=function(n){for(var e=[],r=n.length,o=-1;++o<r;)e[o]=t(n[o]);return e}(n),r=e.length;return function(){for(var n=-1;++n<r;)if(e[n].apply(this,arguments))return!0;return!1}}:function(n){return function(t){var e;for(e in n)if(t[e]!==n[e])return!1;return!0}})(e);if("function"==typeof e)return e;throw new Error("Expected function, string, or object as test")},e=r;function r(n,e,r,c){var l;f(e)&&!f(r)&&(c=r,r=e,e=null),l=t(e),function n(t,f,a){var p,y=u(t)?t:{};return i(y.type)&&(p=i(y.tagName)?y.tagName:i(y.name)?y.name:void 0,d.displayName="node ("+y.type+(p?"<"+p+">":"")+")"),d;function d(){var i,u=[];return(e&&!l(t,f,a[a.length-1]||null)||!1!==(u=o(r(t,a)))[0])&&t.children&&"skip"!==u[0]&&!1===(i=o(function(t,e){for(var r,o=c?-1:1,f=(c?t.length:-1)+o;f>-1&&f<t.length;){if(!1===(r=n(t[f],f,e)())[0])return r;f="number"==typeof r[1]?r[1]:f+o}}(t.children,a.concat(t))))[0]?i:u}}(n,null,[])()}function o(n){return u(n)&&"length"in n?n:"number"==typeof n?[!0,n]:[n]}function f(n){return"function"==typeof n}function i(n){return"string"==typeof n}function u(n){return"object"==typeof n&&null!==n}r.CONTINUE=!0,r.SKIP="skip",r.EXIT=!1;var c=y,l=e.CONTINUE,a=e.SKIP,p=e.EXIT;function y(n,t,r,o){"function"==typeof t&&"function"!=typeof r&&(o=r,r=t,t=null),e(n,t,(function(n,t){var e=t[t.length-1],o=e?e.children.indexOf(n):null;return r(n,o,e)}),o)}function d(n){return n&&"object"==typeof n&&"element"===n.type&&"string"==typeof n.tagName}y.CONTINUE=l,y.SKIP=a,y.EXIT=p;var s=function n(t){if("string"==typeof t)return function(n){return function(t){return d(t)&&t.tagName===n}}(t);if(null==t)return d;if("object"==typeof t)return e=function(t){for(var e=t.length,r=-1,o=[];++r<e;)o[r]=n(t[r]);return o}(t),r=e.length,function(){for(var n=-1;++n<r;)if(e[n].apply(this,arguments))return!0;return!1};var e,r;if("function"==typeof t)return function(n){return function(t){return d(t)&&Boolean(n.apply(this,arguments))}}(t);throw new Error("Expected function, string, or array as test")},h={};function g(n,t,e,r,o){var f=null!=r,i=null!=e,u=s(t);if(i&&("number"!=typeof e||e<0||e===1/0))throw new Error("Expected positive finite index for child node");if(f&&(!r.type||!r.children))throw new Error("Expected parent node");if(!n||!n.type||"string"!=typeof n.type)return!1;if(f!==i)throw new Error("Expected both parent and index");return u.call(o,n,e,r)}h=g,g.convert=s;var v=function(n,t){return e=n,r=t||{},o=Object.keys(r),c(e,"element",(function(n,t,e){if(h(n,o)){var f=r[n.tagName];"function"==typeof f&&f(n)}})),n;var e,r,o};return function(n){var t=n||{};return function(n){v(n,t)}}}));